(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{527:function(e,n,a){"use strict";a.r(n);var t=a(1),o=Object(t.a)({},(function(){var e=this,n=e._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"hilo之loader篇"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hilo之loader篇"}},[e._v("#")]),e._v(" hilo之loader篇")]),e._v(" "),n("h2",{attrs:{id:"loaderqueue-下载队列"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#loaderqueue-下载队列"}},[e._v("#")]),e._v(" LoaderQueue 下载队列")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[e._v("// 创建下载队列\nvar queue = new Hilo.LoadQueue([{\n    id:'hilo', \n    src:'https://gw.alicdn.com/tfs/TB1iNtERXXXXXcBaXXXXXXXXXXX-600-600.png_200x200.jpg',\n    crossOrigin:'Anonymous'\n}]).on('complete', function(e){\n    var bmp = new Hilo.Bitmap({\n        image: queue.getContent('hilo')\n    }).addTo(stage);\n});\n\n// 开启下载队列\nqueue.start();\n")])])]),n("ul",[n("li")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[e._v("// 创建下载队列\nvar queue = new Hilo.LoadQueue();\n\n// 设置最大连接数 默认为2\nqueue.maxConnections = 1;\n\n// 添加资源\nqueue.add([\n    // 本地资源\n    {id:'fish', noCache:true, src:'images/fish.png'},\n    // 线上资源\n    {id:'data', type:'jsonp', callback:'weekJSONP', src:'http://img1.tbcdn.cn/L1/584/1/20.js'}\n]);\n\n// css loader\nqueue.add({id:'taobao_css', type:'css', src:'http://g.tbcdn.cn/tbc/tmsg/3.0.2/index-min.css', loader:{\n    load: function(data){\n        var link = document.createElement('link');\n        link.type = 'text/css';\n        link.rel = 'stylesheet';\n        if(data.id) link.id = data.id;\n        link.addEventListener('load', this.onLoad.bind(this), false);\n        link.addEventListener('error', this.onError.bind(this), false);\n        link.href = data.src;\n        document.getElementsByTagName('head')[0].appendChild(link);\n    },\n    onLoad: function(e){\n        console.log('我在quere.on(\"load\")前执行')\n        return e.target;\n    },\n    onError: function(e){\n        return e;\n    }\n}});\n\n// 给 queue 绑定事件\nqueue.on('load', function(e){\n    console.log(e.detail.src , queue.getLoaded() , queue.getTotal());\n}).on('complete', function(e){\n    // 其他操作，比如创建静态位图\n}).on('error', function(e){\n    console.log(e.detail.src);\n});\n\n// 开启下载器\nqueue.start();\n")])])]),n("h1",{attrs:{id:"tween"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tween"}},[e._v("#")]),e._v(" tween")]),e._v(" "),n("h2",{attrs:{id:"ease-缓动函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ease-缓动函数"}},[e._v("#")]),e._v(" Ease 缓动函数")]),e._v(" "),n("p",[n("img",{attrs:{src:"leanote://file/getImage?fileId=5ad9a8f9ab64413642001239",alt:""}})]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[e._v("// ease 代表缓动的变化率\n\nvar easeTypeNames = ['Quad', 'Cubic', 'Quart', 'Quint', 'Sine', 'Expo', 'Circ', 'Elastic', 'Back', 'Bounce', 'Linear'];\nvar easeFunctionNames = ['EaseNone', 'EaseIn', 'EaseOut', 'EaseInOut'];\nvar easeType = Hilo.Ease[easeTypeName];\nvar easeFunction = easeType[easeFunctionName];\n")])])]),n("h2",{attrs:{id:"tween-hilo-ease-运动"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tween-hilo-ease-运动"}},[e._v("#")]),e._v(" Tween ( Hilo.Ease ) 运动")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[e._v("// 声明 Tween 类\nvar Tween = Hilo.Tween;     \n\n// 创建定时器\nvar ticker = new Hilo.Ticker(60);\nticker.addTick(Tween);      // 添加tween类\nticker.start();\n\n// 创建500个小方块\nvar boxes = [];\nvar total = 500;\nfor(var i = 0; i < total; i++){\n    var box = document.createElement('div');\n    box.id = 'box' + i;\n    box.className = 'box';\n    gameContainer.appendChild(box);\n    boxes[i] = box;\n}\n// 翻转方块 —— 使方块从最后一个开始运动\n// boxes.reverse();         \n\n// 小方块运动\nTween.to(boxes, {y:400}, {\n    duration: 1000,         // duration 和 stagger 影响动画运动时间和幅度\n    stagger: 10,            // stagger 错开\n    ease: Hilo.Ease.Elastic.EaseOut,\n    onUpdate: function (ratio, tween) {\n        tween.target.style.webkitTransform = 'translate(0,' + tween.target.y + 'px)';\n    }\n});\n")])])]),n("h2",{attrs:{id:"tween-link-运动"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tween-link-运动"}},[e._v("#")]),e._v(" Tween ( .link ) 运动")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[e._v("// 提前声明 Tween\nvar Tween = Hilo.Tween;\n\n// 创建ticker\nvar ticker = new Hilo.Ticker(60);\nticker.addTick(Tween);\nticker.start();\n\n// 创建 box ，添加起始位置\nvar box = document.createElement('div');\nbox.id = 'box';\nbox.className = 'box';\nbox.x = 0;\nbox.y = 0;\ngameContainer.appendChild(box);\n\n// 添加缓动动画(运动物体，结束位置，参数)\nTween.to(box, {x:50, y:50}, {\n    duration: 500,\n    onUpdate: boxMove,\n    onComplete: runLink\n});\n\n// 循环运动\nfunction runLink(){\n    Tween.to(box, {x:50, y:150}, {\n        duration: 500,        // 运动时长  \n        onUpdate: boxMove\n    }).link(\n        Tween.to(box, {x:150}, {\n            duration: 500,\n            onUpdate: boxMove,\n            delay:'+0'            // .link中一定要加delay属性，可为 0 \n        })\n    ).link(\n        Tween.to(box, {y:50}, {\n            duration: 500,\n            onUpdate: boxMove,\n            delay:'+1000'         // .link中一定要加delay属性，可为 0\n        })\n    ).link(\n        Tween.to(box, {x:50}, {\n            duration: 500,\n            onUpdate: boxMove,\n            delay:'+0',\n            onComplete:runLink\n        })\n    )\n}\n\n// 运动操作的实现\nfunction boxMove(ratio, tween){\n    tween.target.style.webkitTransform = 'translate(' + tween.target.x + 'px,' + tween.target.y + 'px)';\n}\n")])])])])}),[],!1,null,null,null);n.default=o.exports}}]);