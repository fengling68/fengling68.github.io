(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{584:function(e,a,t){"use strict";t.r(a);var o=t(1),n=Object(o.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"cookie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[e._v("#")]),e._v(" cookie")]),e._v(" "),a("h2",{attrs:{id:"http协议"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http协议"}},[e._v("#")]),e._v(" HTTP协议")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("超文本传输协议, 是一个应用层的协议，由请求和响应构成。\n\n1、客户端与服务器端数据交互的协议。\n2、客户端与服务器端交互的模型。\n3、HTTP是无状态的协议，不会保存请求和响应的任何数据。\n\n为了保存交互过程中的数据，引入了Cookie的概念，保存用户客户端和服务器端的交互数据。\n")])])]),a("h2",{attrs:{id:"url组成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url组成"}},[e._v("#")]),e._v(" url组成")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("协议名 + 主机名 + 端口号 + 文件路径 + 锚点(#后) + 参数(?后)\nhttp://192.168.0.3:8080/test/index.html?id=123&name=abc#page1\n")])])]),a("h2",{attrs:{id:"cookie的组成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookie的组成"}},[e._v("#")]),e._v(" cookie的组成")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("1、Cookie的组成(键值对)\n    (1)name = value; 数据必须有，其他可选\n    (2)expires = 数据失效的时间;\n    (3)path = 数据保存的路径;\n    (4)domain = 域名;\n    (5)secure = 是否使用安全的https协议;\n\n2、Cookie浏览器支持\n    一般需要服务器端的支持，主流浏览器都支持cookie，除了chrome，其他浏览器都可以直接在非服务器的环境下使用，chrome中的cookie需要服务器的支持。\n")])])]),a("h2",{attrs:{id:"cookie的使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookie的使用"}},[e._v("#")]),e._v(" cookie的使用")]),e._v(" "),a("h3",{attrs:{id:"_1、添加cookie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、添加cookie"}},[e._v("#")]),e._v(" 1、添加cookie")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v('document.cookie = "user = 姬如千泷"; \n')])])]),a("h3",{attrs:{id:"_2、获取cookie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、获取cookie"}},[e._v("#")]),e._v(" 2、获取cookie")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v('var cookieString = document.cookie;\nwindow.onload = function(){\n    var h1 = document.getElementsByTagName("h1")[0];\n    h1.innerHTML = cookieString; \n}\n')])])]),a("h3",{attrs:{id:"_3、expires失效时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、expires失效时间"}},[e._v("#")]),e._v(" 3、expires失效时间")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v('默认cookie的过期时间，会话结束即关闭浏览器时\n\n//手动设置cookie的失效时间\nvar date = new Date();       //当前时间\nvar curDate = new Date();\ndate.setDate(curDate + 7);   //产生7天后的时间\ndocument.cookie = "user = 姬如千泷; expires = " + date;\n')])])]),a("h3",{attrs:{id:"_4、网络传输时-会出现中文乱码问题-一般保存在cookie中的数据都要进行编码。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、网络传输时-会出现中文乱码问题-一般保存在cookie中的数据都要进行编码。"}},[e._v("#")]),e._v(" 4、网络传输时, 会出现中文乱码问题, 一般保存在Cookie中的数据都要进行编码。")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v('encodeURI();\ndecodeURL();\nencodeURIComponent();\ndecodeURLComponent();\n\n对cookie编码\nvar uname = encodeURIComponent("荆天明");\ndocument.cookie = "user = " + uname + ";expires = " + date; \n\n对cookie解码\nh1.innerHTML = decodeURIComponent(cookieString); \n')])])]),a("h3",{attrs:{id:"_5、设置path属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、设置path属性"}},[e._v("#")]),e._v(" 5、设置path属性")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("只有path下的资源，才有权访问这个cookie\n")])])]),a("h3",{attrs:{id:"_6、删除cookie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、删除cookie"}},[e._v("#")]),e._v(" 6、删除cookie")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v('将cookie的过期时间设置为当前时间之前的时间\n\nbtn.onclick = function(){\n    方式一\n    date = new Date();\n    date.setDate(date.getDate() - 1);\n    方式二\n    date = new Date(0);\n    document.cookie = "user = 姬如千泷; expires = " + date; \n}\n')])])]),a("h2",{attrs:{id:"cookie局限性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookie局限性"}},[e._v("#")]),e._v(" cookie局限性")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("1、每个特定域名下最多生成20个cookie，不同浏览器个数不同。\n2、cookie最大约4k，为了兼容性，不能超过4k。\n3、cookie安全性不高，密码等不要放。\n")])])]),a("h2",{attrs:{id:"cookie的封装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookie的封装"}},[e._v("#")]),e._v(" cookie的封装")]),e._v(" "),a("h3",{attrs:{id:"_1、添加cookie函数封装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、添加cookie函数封装"}},[e._v("#")]),e._v(" 1、添加cookie函数封装")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v('function addCookie(name,value,expires,path){\n    var cookieString = name + "=" + value;\n    if(expires){\n        cookieString += ";expires" + expires;\n    }\n    if(path){\n        cookieString += ";path" + path;\n    }\n    document.cookie = cookieString;\n}\n\n测试：\nvar date1 = new Date();\ndate1.setDate(date1.getDate() + 7);\nvar path = "/coding/test"\naddCookie("userName","姬如千泷",date1,path);\n')])])]),a("h3",{attrs:{id:"_2、获得cookie函数封装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、获得cookie函数封装"}},[e._v("#")]),e._v(" 2、获得cookie函数封装")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v('function getCookie(name){\n    var value = null;\n    var cookieString = document.cookie;\n    if(cookieString.indexOf(";") != -1){        //有多个cookie\n        var cookies = cookieString.split(";");\n        for(var i = 0 ; i < cookies.length ; i++){\n            var c = cookies[i];\n            if(c.indexOf(name) != -1){\n                var index = c.indexOf("=");\n                value = c.substring(index + 1);\n                break;\n            }\n        }\n    }else if(cookieString.indexOf(nsme) != -1){  //单个cookie\n        var index = c.indexOf("=");\n        value = c.substring(index + 1);\n    }else{\n        value = null;\n    }\n    return value;\n}\n\n测试：\nvar val = getCookie("userName");\nalert(val);\n')])])])])}),[],!1,null,null,null);a.default=n.exports}}]);