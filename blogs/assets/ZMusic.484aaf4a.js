import{_ as g,g as t,o as n,c as r,a as s,n as d,t as o,b as y,e as _}from"./app.7e19d012.js";const h={class:"music-box"},x={class:"music-info"},k={class:"music-title"},b={class:"music-song"},T={class:"time"},C={class:"progress"},D=["src"],M={__name:"ZMusic",props:{music:Object},setup(u){const i=t(!1),a=t(0),c=t(0),l=t("0%"),e=t(),f=()=>{!e.value||!a.value||(e.value.play(),i.value=!0)},p=()=>{!e.value||!a.value||(e.value.pause(),i.value=!1)},v=()=>{if(!e.value){setTimeout(()=>{v()},1e3);return}e.value.addEventListener("durationchange",()=>{!e.value||(a.value=e.value.duration)}),e.value.addEventListener("timeupdate",()=>{if(!!e.value)if(c.value=e.value.currentTime,c.value>=a.value)l.value="100%";else{const m=(c.value/a.value*100).toFixed(1);l.value=`${m}%`}})};return setTimeout(()=>{v()},0),(m,P)=>(n(),r("div",h,[s("div",{class:"music-cover",style:d({backgroundImage:`url(${u.music.cover})`})},null,4),s("div",x,[s("p",k,o(u.music.name),1),s("p",b,[y(o(u.music.song)+" ",1),s("span",T,o(c.value.toFixed(2))+"ms / "+o(a.value.toFixed(2))+"ms",1)]),s("div",C,[s("div",{class:"progress-bar",style:d({width:l.value})},null,4)])]),i.value?_("v-if",!0):(n(),r("div",{key:0,class:"music-icon play",onClick:f})),i.value?(n(),r("div",{key:1,class:"music-icon pause",onClick:p})):_("v-if",!0),s("audio",{src:u.music.url,preload:"auto",loop:"loop",ref_key:"musicDom",ref:e},null,8,D)]))}},B=g(M,[["__scopeId","data-v-197e6aa1"],["__file","ZMusic.vue"]]);export{B as default};
