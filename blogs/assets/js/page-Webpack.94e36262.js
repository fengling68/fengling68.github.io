(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{608:function(_,v,e){"use strict";e.r(v);var a=e(1),o=Object(a.a)({},(function(){var _=this,v=_.$createElement,e=_._self._c||v;return e("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[e("h1",{attrs:{id:"webpack"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack"}},[_._v("#")]),_._v(" Webpack")]),_._v(" "),e("h2",{attrs:{id:"配置字段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置字段"}},[_._v("#")]),_._v(" 配置字段")]),_._v(" "),e("p",[e("code",[_._v("entry")]),_._v(" 入口")]),_._v(" "),e("p",[e("code",[_._v("output")]),_._v(" 出口")]),_._v(" "),e("p",[e("code",[_._v("Module")]),_._v(" 模块")]),_._v(" "),e("p",[e("code",[_._v("Chunk")]),_._v(" 代码块")]),_._v(" "),e("p",[e("code",[_._v("Loader")]),_._v(" 模块转换器")]),_._v(" "),e("p",[e("code",[_._v("Plugins")]),_._v(" 扩展插件")]),_._v(" "),e("h2",{attrs:{id:"执行流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#执行流程"}},[_._v("#")]),_._v(" 执行流程")]),_._v(" "),e("p",[e("code",[_._v("初始化")]),_._v("：解析 "),e("code",[_._v("webpack")]),_._v(" 配置参数，生产 "),e("code",[_._v("Compiler")]),_._v(" 实例；")]),_._v(" "),e("p",[e("code",[_._v("注册插件")]),_._v("：调用插件 "),e("code",[_._v("apply")]),_._v(" 方法，给插件传入 "),e("code",[_._v("compiler")]),_._v(" 实例的引用，插件通过 "),e("code",[_._v("compiler")]),_._v(" 调用 "),e("code",[_._v("Webpack")]),_._v(" 提供的 "),e("code",[_._v("API")]),_._v("，让插件可以监听后续的所有事件节点；")]),_._v(" "),e("p",[e("code",[_._v("读取入口")]),_._v("：读取入口文件；")]),_._v(" "),e("p",[e("code",[_._v("解析文件")]),_._v("：使用 "),e("code",[_._v("loader")]),_._v(" 将文件解析成抽象语法树 "),e("code",[_._v("AST")]),_._v("；")]),_._v(" "),e("p",[e("code",[_._v("生成依赖图谱")]),_._v("：找出每个文件的依赖项（遍历）；")]),_._v(" "),e("p",[e("code",[_._v("输出")]),_._v("：根据转换好的代码，生成 "),e("code",[_._v("chunk")]),_._v("；")]),_._v(" "),e("p",[e("code",[_._v("打包")]),_._v("：生成最后打包的文件；")]),_._v(" "),e("h2",{attrs:{id:"webpack-编译文件过大"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack-编译文件过大"}},[_._v("#")]),_._v(" Webpack 编译文件过大")]),_._v(" "),e("p",[e("a",{attrs:{href:"https://juejin.im/post/5a9d17446fb9a028d374e733",target:"_blank",rel:"noopener noreferrer"}},[_._v("webpack打包之后的文件过大的解决方法"),e("OutboundLink")],1)]),_._v(" "),e("p",[_._v("1、区分开发环境和生产环境配置；")]),_._v(" "),e("p",[_._v("2、在 "),e("code",[_._v("prod")]),_._v(" 环境下关闭 "),e("code",[_._v("source-map")]),_._v("；")]),_._v(" "),e("p",[_._v("3、使用 "),e("code",[_._v("extract-text-webpack-plugin")]),_._v(" 插件单独打包 "),e("code",[_._v("css")]),_._v(" 文件；")]),_._v(" "),e("p",[_._v("4、使用 "),e("code",[_._v("UglifyJSPlugin")]),_._v(" 插件压缩 "),e("code",[_._v("js")]),_._v(" 文件；")]),_._v(" "),e("p",[_._v("5、使用 "),e("code",[_._v("CommonsChunkPlugin")]),_._v(" 插件提取公共依赖；")]),_._v(" "),e("p",[_._v("6、使用 "),e("code",[_._v("compression-webpack-plugin")]),_._v(" 插件开启 "),e("code",[_._v("gzip")]),_._v(" 压缩；")]),_._v(" "),e("p",[_._v("7、使用 "),e("code",[_._v("html-webpack-plugin")]),_._v(" 插件开启html压缩，自动添加上面生成的静态资源；")]),_._v(" "),e("p",[_._v("8、使用 "),e("code",[_._v("webpack-bundle-analyzer")]),_._v(" 插件分析并优化依赖包；")]),_._v(" "),e("h2",{attrs:{id:"webpack-编译速度慢"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack-编译速度慢"}},[_._v("#")]),_._v(" Webpack 编译速度慢")]),_._v(" "),e("p",[e("a",{attrs:{href:"https://www.cnblogs.com/yangsg/p/10601604.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("webpack4提升180%编译速度"),e("OutboundLink")],1)]),_._v(" "),e("p",[_._v("1、使用 "),e("code",[_._v("webpack 4")]),_._v(" 进行打包；")]),_._v(" "),e("p",[_._v("2、配置 "),e("code",[_._v("externals")]),_._v(" 来将依赖的库指向全局变量，使 "),e("code",[_._v("webpack")]),_._v(" 不再打包这个库，而是全局引入插件后使用；")]),_._v(" "),e("p",[_._v("3、使用 "),e("code",[_._v("CommonsChunkPlugin")]),_._v(" 插件将共有的模块打包成一个文件；")]),_._v(" "),e("h2",{attrs:{id:"webpack-loader"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack-loader"}},[_._v("#")]),_._v(" Webpack loader")]),_._v(" "),e("p",[e("a",{attrs:{href:"https://www.webpackjs.com/api/loaders/",target:"_blank",rel:"noopener noreferrer"}},[_._v("loader API"),e("OutboundLink")],1)]),_._v(" "),e("p",[e("code",[_._v("webpack")]),_._v(" 用来预处理模块的，在一个模块被引入之前，会预先使用 "),e("code",[_._v("loader")]),_._v(" 处理模块的内容。")]),_._v(" "),e("p",[_._v("1、"),e("code",[_._v("file-loader")]),_._v("：打包图片、字体；")]),_._v(" "),e("p",[_._v("2、"),e("code",[_._v("url-loader")]),_._v("：打包图片，会将 base64 打包到 js 文件中；")]),_._v(" "),e("p",[_._v("3、"),e("code",[_._v("css-loader")]),_._v("：理清多个css文件之间的引用关系，最后合并为一个；")]),_._v(" "),e("p",[_._v("4、"),e("code",[_._v("style-loader")]),_._v("：将css样式挂载到head的style标签中；")]),_._v(" "),e("p",[_._v("5、"),e("code",[_._v("sass-loader")]),_._v("：将scss文件编译为css；")]),_._v(" "),e("p",[_._v("6、"),e("code",[_._v("less-loader")]),_._v("：解析 less 文件样式；")]),_._v(" "),e("p",[_._v("7、"),e("code",[_._v("postcss-loader")]),_._v("：为样式加上浏览器前缀；")]),_._v(" "),e("p",[_._v("8、"),e("code",[_._v("babel-loader")]),_._v("：让下一代的 js 文件转换成现代浏览器能够支持的 js 文件；")])])}),[],!1,null,null,null);v.default=o.exports}}]);