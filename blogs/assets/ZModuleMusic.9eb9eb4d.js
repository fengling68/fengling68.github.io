import{_ as g,g as u,h as y,o as n,c as r,a as s,n as m,t as i,b as h,e as _}from"./app.140f40fb.js";const x={class:"music-box"},M={class:"music-info"},k={class:"music-title"},b={class:"music-song"},C={class:"time"},D={class:"progress"},P=["src"],T={__name:"ZModuleMusic",props:{music:Object},setup(t){const o=u(!1),a=u(0),c=u(0),l=u("0%"),e=u(),f=()=>{!e.value||!a.value||(e.value.play(),o.value=!0)},p=()=>{!e.value||!a.value||(e.value.pause(),o.value=!1)},v=()=>{if(!e.value){setTimeout(()=>{v()},1e3);return}e.value.addEventListener("durationchange",()=>{!e.value||(a.value=e.value.duration)}),e.value.addEventListener("timeupdate",()=>{if(!!e.value)if(c.value=e.value.currentTime,c.value>=a.value)l.value="100%";else{const d=(c.value/a.value*100).toFixed(1);l.value=`${d}%`}})};return y(()=>{v()}),(d,Z)=>(n(),r("div",x,[s("div",{class:"music-cover",style:m({backgroundImage:`url(${t.music.cover})`})},null,4),s("div",M,[s("p",k,i(t.music.name),1),s("p",b,[h(i(t.music.song)+" ",1),s("span",C,i(c.value.toFixed(2))+"ms / "+i(a.value.toFixed(2))+"ms",1)]),s("div",D,[s("div",{class:"progress-bar",style:m({width:l.value})},null,4)])]),o.value?_("v-if",!0):(n(),r("div",{key:0,class:"music-icon play",onClick:f})),o.value?(n(),r("div",{key:1,class:"music-icon pause",onClick:p})):_("v-if",!0),s("audio",{src:t.music.url,preload:"auto",loop:"loop",ref_key:"musicDom",ref:e},null,8,P)]))}},E=g(T,[["__scopeId","data-v-e1b22cf0"],["__file","ZModuleMusic.vue"]]);export{E as default};
